#!/usr/bin/env zsh


denConf vars.zsh

VIS_BIN="$HOME/bin/viss"
CONF_DIR="$FOX_DEN/etc/vis/$DEN_THEME"
CONF_FILE="$CONF_FILE/default"

[ -f "$CONF_DIR/$(hostname -s)" ] && CONF_FILE="$CONF_DIR/$(hostname -s)"

y="$1"

if [ -z "$y" ]; then
	printf '(s|v|b) '
	read -s -k -r y
fi

case "$y" in
	s)
		echo -en "\033]0;spt-term\a"
		spt
		;;

	v)
		echo -en "\033]0;viss\a"
		sleep 1
		echo -en "\033]0;viss-term\a"
		$VIS_BIN -c "$CONF_FILE"
		;;
	b)
		echo -en "\033]0;viss\a"
		sleep 1
		echo -en "\033]0;viss-term-right\a"
		$VIS_BIN -c "$CONF_FILE-right"
		;;
	*)
		exit
		;;
esac
